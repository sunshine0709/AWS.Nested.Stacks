AWSTemplateFormatVersion: '2010-09-09'
Transform: AWS::Serverless-2016-10-31
Description: aws nested stack example
Resources:
  DynamoDbStack:
    Type: AWS::CloudFormation::Stack
    Properties:
      TemplateURL: DynamoDbStack\template.yaml
    Metadata:
      SamResourceId: DynamoDbStack
  LambdaStack:
    Type: AWS::CloudFormation::Stack
    Properties:
      TemplateURL: LambdaStack\template.yaml
      Parameters:
        DynamoDbTable:
          Fn::GetAtt:
          - DynamoDbStack
          - Outputs.TableName
    DependsOn: DynamoDbStack
    Metadata:
      SamResourceId: LambdaStack
Outputs:
  LambdaFunctionName:
    Description: The name of the Lambda function
    Value:
      Fn::GetAtt:
      - LambdaStack
      - Outputs.LambdaFunctionArn
